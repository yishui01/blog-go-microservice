syntax = "proto3";
import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "google/protobuf/empty.proto";
import "google/api/annotations.proto";


package article.service.v1;

message ArtDetailRequest {
    string sn = 1 [(gogoproto.moretags) = 'form:"name" validate:"required"'];
    int64 status = 2 [(gogoproto.moretags) = 'form:"status" validate:"required"'];
}

message ArtDetailResp {
    int64  id      = 1;
    string sn      = 2 [(gogoproto.moretags) = 'form:"name" validate:"required"'];
    string title   = 3;
    string img     = 4;
    string content = 5;
    int64  status  = 6;
    string created_at = 7;
    string updated_at = 8;
    string deleted_at = 9;
}

service Article {
    rpc Ping(.google.protobuf.Empty) returns (.google.protobuf.Empty);
    rpc GetArtBySn(ArtDetailRequest) returns (ArtDetailResp){
        option(google.api.http) = {
            get:"/article/sn/{sn}"
        };
    };
    rpc GetArtStream(stream ArtDetailRequest) returns (stream ArtDetailResp);
}